<!DOCTYPE html>
<html lang="en-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 
      SEO: DYNAMIC TITLE
      This title will be changed by JavaScript for each "page".
      This is the default for the homepage.
    -->
    <title>Keralaweds: Kerala's No.1 Wedding Services Directory</title>

    <!-- 
      SEO: DYNAMIC META DESCRIPTION
      This description will also be changed by JavaScript.
    -->
    <meta name="description" id="meta-description" content="Find the best wedding venues, photographers, catering, and event managers in Kerala. Your complete guide to Mallu weddings in Kochi, Trivandrum, and more.">
    
    <!-- 
      SEO: KEYWORDS
      Note: The keywords meta tag is largely ignored by Google, 
      but it doesn't hurt. The *content* on the page is what matters.
    -->
    <meta name="keywords" content="wedding service near me, catering near me, wedding photography, mallu weddings, kerala wedding, venues, auditorium, catering, buses, event management, photography, kochi, trivandrum, kozhikode, thrissur">
    
    <!-- 
      SEO: CANONICAL URL
      Tells Google this is the one true version of this page.
      You MUST change "keralaweds.com" to your actual domain.
    -->
    <link rel="canonical" href="https://keralaweds.com">
    
    <!-- SEO: Open Graph (for Facebook/WhatsApp sharing) -->
    <meta property="og:title" id="og-title" content="Keralaweds: Kerala's No.1 Wedding Services Directory">
    <meta property="og:description" id="og-description" content="Find the best wedding venues, photographers, catering, and event managers in Kerala.">
    <meta property="og:image" content="https://placehold.co/1200x630/ef4444/ffffff?text=Keralaweds">
    <meta property="og:url" content="https://keralaweds.com">
    <meta property="og:type" content="website">

    <!-- SEO: Twitter Card (for Twitter sharing) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" id="twitter-title" content="Keralaweds: Kerala's No.1 Wedding Services Directory">
    <meta name="twitter:description" id="twitter-description" content="Find the best wedding venues, photographers, catering, and event managers in Kerala.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/ef4444/ffffff?text=Keralaweds">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Using Playfair Display for headings (classy) and Poppins for body (clean) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            /* Using Poppins as the base font */
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
        }
        /* Using the elegant Playfair Display for headings and logo */
        h1, h2, h3, .logo {
            font-family: 'Playfair Display', serif;
        }
        /* Custom hero BG */
        .hero-bg {
             background-image: linear-gradient(rgba(255, 247, 245, 0.9), rgba(255, 247, 245, 1)), url('https://placehold.co/1920x1080/fef2f2/ef4444?text=Beautiful+Kerala+Wedding');
             background-size: cover;
             background-position: center;
        }
        .fade-in {
            animation: fadeInAnimation 0.5s ease-in-out forwards;
            opacity: 0;
        }
        @keyframes fadeInAnimation {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .skeleton-card {
            background-color: #f3f4f6;
            border-radius: 0.5rem;
            overflow: hidden;
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            50% {
                opacity: .5;
            }
        }
        /* Mobile Menu Transition */
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
        }
        /* Profile Modal Transition */
        #profile-modal {
            transition: opacity 0.3s ease-in-out;
        }
        #profile-modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
    
    <!-- 
      SEO: JSON-LD SCHEMA
      This is structured data that tells Google *exactly* what your site is about.
      This is CRITICAL for ranking #1.
    -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Keralaweds",
      "description": "Kerala's No.1 Wedding Services Directory for venues, photography, catering, event management, and more. We cover all of Kerala, including Kochi, Trivandrum, and Kozhikode.",
      "url": "https://keralaweds.com",
      "logo": "https://placehold.co/200x100/ef4444/ffffff?text=Keralaweds",
      "telephone": "+91-999-999-9999",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Kochi",
        "addressRegion": "KL",
        "addressCountry": "IN"
      },
      "serviceArea": {
        "@type": "Place",
        "name": "Kerala, India"
      },
      "providesService": [
        { "@type": "Service", "name": "Wedding Photography" },
        { "@type": "Service", "name": "Wedding Catering" },
        { "@type": "Service", "name": "Wedding Venues" },
        { "@type": "Service", "name": "Wedding Auditorium Booking" },
        { "@type": "Service", "name": "Event Management" },
        { "@type": "Service", "name": "Wedding Bus Rental" }
      ],
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://keralaweds.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
</head>
<body class="bg-rose-50">

    <div id="app" class="max-w-7xl mx-auto">

        <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-40 transition-shadow duration-300">
            <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                     <a href="#" class="logo text-3xl font-bold text-red-500">Keralaweds</a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" class="text-gray-600 hover:text-red-500 transition-colors duration-300">Home</a>
                    <a href="#" class="text-gray-600 hover:text-red-500 transition-colors duration-300">Login</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden focus:outline-none z-50">
                    <svg class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </nav>
            <div id="mobile-menu" class="md:hidden absolute top-0 left-0 w-full bg-white shadow-lg transform -translate-y-full z-40">
                <div class="flex flex-col items-center space-y-4 py-8 mt-16">
                    <a href="#" class="text-gray-800 hover:text-red-400 text-lg">Home</a>

                    <a href="#" class="text-gray-800 hover:text-red-400 text-lg">Login</a>
                </div>
            </div>
        </header>

        <main class="hero-bg">
            <div class="container mx-auto px-4 sm:px-6 py-16 sm:py-24 text-center">
                <!-- SEO: This H1 is the most important heading for the homepage. -->
                <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-800">Find Every Wedding Service in Kerala</h1>
                <p class="mt-4 text-base sm:text-lg text-gray-700">No Brokers, No Hidden Costs. Your one-stop directory for venues, photography, catering, and more.</p>
                <div class="mt-8 max-w-3xl mx-auto">
                    <div class="flex flex-col md:flex-row items-center justify-center rounded-lg bg-white shadow-lg p-2 focus-within:ring-2 focus-within:ring-red-400 transition-all duration-300 gap-2">
                        <div class="flex-grow w-full flex items-center md:border-r border-gray-200">
                            <i class="fas fa-map-marker-alt text-gray-400 pl-4 pr-2"></i>
                            <select id="districtFilter" class="w-full p-3 text-gray-700 bg-transparent border-none focus:outline-none rounded-lg appearance-none">
                                <!-- Populated by JS -->
                            </select>
                        </div>
                        <div class="flex-grow w-full flex items-center">
                            <i class="fas fa-search text-gray-400 pl-4 pr-2"></i>
                            <input id="searchInput" type="text" placeholder="Search by Vendor Name" class="w-full px-2 py-3 text-gray-700 bg-transparent border-none focus:outline-none rounded-lg">
                        </div>
                        <button id="searchBtn" class="w-full md:w-auto bg-red-400 text-white font-semibold px-8 py-3 rounded-lg hover:bg-red-500 transform hover:scale-105 transition-all duration-300 flex-shrink-0">Search</button>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2 sm:gap-4 max-w-5xl mx-auto">
                    <!-- SEO: Expanded categories -->
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Venues">
                        <i class="fas fa-place-of-worship text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Venues</span>
                    </button>
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Photography">
                        <i class="fas fa-camera-retro text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Photography</span>
                    </button>
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Catering">
                        <i class="fas fa-utensils text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Catering</span>
                    </button>
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Event Management">
                        <i class="fas fa-clipboard-list text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Event Mgmt</span>
                    </button>
                     <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Makeup">
                        <i class="fas fa-magic text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Makeup</span>
                    </button>
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Decor">
                        <i class="fas fa-holly-berry text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Decor</span>
                    </button>
                    <button class="category-btn bg-white shadow-md p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transform hover:-translate-y-1 transition-all duration-300" data-category="Buses">
                        <i class="fas fa-bus text-red-400 text-xl mb-1"></i>
                        <span class="text-gray-700 font-medium text-xs sm:text-sm text-center">Buses</span>
                    </button>
                </div>
            </div>
        </main>

        <section class="py-16 px-4 sm:px-6" id="vendors">
            <div class="container mx-auto">
                <h2 class="text-3xl font-bold text-gray-800 text-center mb-10">Featured Vendors</h2>
                <div id="vendor-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
                   <div id="no-vendors" class="col-span-full text-center hidden">
                        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg" role="alert">
                            <p class="font-bold">No Vendors Found</p>
                            <p>There are no vendors matching your current selection. Try another category or search term!</p>
                        </div>
                   </div>
                   <!-- Skeleton cards will be inserted here by JS -->
                </div>
            </div>
        </section>

        <!-- 
          =================================================
          BEGIN SEO CONTENT SECTIONS
          =================================================
          This is the new, keyword-rich content crucial for ranking.
          You MUST edit and expand this text with original content.
        -->

        <!-- SEO: Content section targeting "Mallu Weddings" -->
        <section class="py-16 bg-white px-4" id="seo-content-mallu-wedding">
            <div class="container mx-auto">
                <h2 class="text-3xl font-bold text-center mb-6">Your Complete Guide to the Perfect Mallu Wedding</h2>
                <div class="text-gray-600 max-w-3xl mx-auto space-y-4 text-center">
                    <p>Planning a **Mallu wedding**? Keralaweds is your ultimate guide. Whether it's a traditional Hindu wedding with a grand sadhya, a beautiful Christian ceremony, or a splendid Muslim Nikkah, we connect you with the best vendors in the industry.</p>
                    <p>From finding the perfect **auditorium** to hiring the best **catering near me** for a delicious Kerala sadhya, your search ends here. We have the best **wedding photography** teams to capture your special moments. This is placeholder content. You must replace this with 500+ words of original, high-quality content about the nuances of planning a Kerala wedding to rank on Google.</p>
                </div>
            </div>
        </section>
        
        <!-- SEO: Content section targeting "Venues" -->
        <section class="py-16 px-4" id="seo-content-venues">
            <div class="container mx-auto max-w-5xl">
                <h2 class="text-3xl font-bold text-center mb-6">Best Wedding Venues & Auditoriums in Kerala</h2>
                <div class="text-gray-600 max-w-3xl mx-auto space-y-4 text-center">
                    <p>Finding the right venue is the first step. Are you looking for a grand **convention centre in Kochi**? A beautiful **beach wedding venue in Varkala**? Or a traditional **auditorium in Thrissur**? We list them all. Stop searching for "auditorium near me" and let us find the best options, complete with pricing and availability. This is placeholder content. You must replace this with 500+ words of original, high-quality content about Kerala wedding venues to rank on Google.</p>
                </div>
            </div>
        </section>

        <!-- SEO: Content section targeting "Photography" -->
        <section class="py-16 bg-white px-4" id="seo-content-photography">
            <div class="container mx-auto max-w-5xl">
                <h2 class="text-3xl font-bold text-center mb-6">Top Wedding Photography & Videography in Kerala</h2>
                 <div class="text-gray-600 max-w-3xl mx-auto space-y-4 text-center">
                    <p>Your search for "wedding photography near me" ends here. Kerala is home to world-class **candid photographers** and videography teams. Whether you need a "save the date" shoot in the hills of Munnar or traditional coverage of your **Mallu wedding** sadhya, browse our list of verified vendors. We have portfolios from the best teams in **Kochi**, **Trivandrum**, and all over Kerala. This is placeholder content. You must replace this with 500+ words of original, high-quality content about Kerala wedding photography to rank on Google.</p>
                </div>
            </div>
        </section>
        
        <!-- SEO: Content section targeting "Catering" -->
        <section class="py-16 px-4" id="seo-content-catering">
            <div class="container mx-auto max-w-5xl">
                <h2 class="text-3xl font-bold text-center mb-6">Best Wedding Catering Services in Kerala (Sadhya & More)</h2>
                <div class="text-gray-600 max-w-3xl mx-auto space-y-4 text-center">
                    <p>The feast is the heart of a **Mallu wedding**. We list the most famous **Kerala Sadhya** caterers, known for their authentic taste. We also have top-rated caterers for **Christian weddings**, serving everything from appetizers to biryani, and for **Muslim weddings** with their exquisite menus. Stop searching for "catering services" and browse our directory to find the best in your budget, right here in Kerala. This is placeholder content. You must replace this with 500+ words of original, high-quality content about Kerala wedding catering to rank on Google.</p>
                </div>
            </div>
        </section>
        
        <!-- 
          =================================================
          END SEO CONTENT SECTIONS
          =================================================
        -->

        <section class="bg-white py-16 px-4 sm:px-6" id="about">
            <div class="container mx-auto max-w-2xl">
                <h2 class="text-3xl font-bold text-gray-800 text-center mb-2">Become a Vendor</h2>
                <p class="text-center text-gray-600 mb-8">Join our platform and reach more clients across Kerala.</p>
                <form id="add-vendor-form" class="space-y-6 bg-gray-50 p-6 sm:p-8 rounded-lg shadow-md">
                    <div>
                        <label for="vendorName" class="block text-sm font-medium text-gray-700">Vendor Name</label>
                        <input type="text" name="vendorName" id="vendorName" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="category" class="block text-sm font-medium text-gray-700">Category</label>
                        <select id="category" name="category" required class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm rounded-md">
                            <!-- SEO: Expanded categories -->
                            <option>Venues</option>
                            <option>Photography</option>
                            <option>Catering</option>
                            <option>Event Management</option>
                            <option>Buses</option>
                            <option>Makeup</option>
                            <option>Decor</option>
                        </select>
                    </div>
                     <div>
                        <label for="district" class="block text-sm font-medium text-gray-700">District</label>
                        <select id="district" name="district" required class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm rounded-md">
                           <!-- JS will populate this -->
                        </select>
                    </div>
                    <div>
                        <label for="location" class="block text-sm font-medium text-gray-700">Specific Location / Town</label>
                        <input type="text" name="location" id="location" placeholder="e.g., Technopark, Trivandrum" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="startingPrice" class="block text-sm font-medium text-gray-700">Starting Price (₹)</label>
                        <input type="number" name="startingPrice" id="startingPrice" placeholder="e.g., 5000" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="contactNumber" class="block text-sm font-medium text-gray-700">Contact Number</label>
                        <input type="tel" name="contactNumber" id="contactNumber" placeholder="e.g., 9876543210" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    </div>
                    <div>
                         <label for="imageUrl" class="block text-sm font-medium text-gray-700">Main Image URL</label>
                        <input type="url" name="imageUrl" id="imageUrl" placeholder="https://example.com/image.jpg" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
                        <textarea name="description" id="description" rows="4" placeholder="Tell us more about your services..." required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"></textarea>
                    </div>
                    <div>
                        <label for="galleryImages" class="block text-sm font-medium text-gray-700">Gallery Image URLs (comma-separated)</label>
                        <textarea name="galleryImages" id="galleryImages" rows="3" placeholder="https://example.com/img1.jpg, https://example.com/img2.jpg" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"></textarea>
                    </div>
                    <button id="submitBtn" type="submit" class="w-full bg-red-400 text-white font-semibold py-3 px-4 rounded-lg hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-300 flex items-center justify-center">
                        <span id="submitBtnText">Add Vendor</span>
                        <i id="submitSpinner" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                    </button>
                </form>
                 <div id="form-message" class="mt-4 text-center h-5"></div>
            </div>
        </section>

        <!-- 
          SEO: "FAT FOOTER"
          This is a powerful SEO strategy. It provides clear internal links
          to all your most important pages, helping Google crawl and
          understand your site structure.
        -->
        <footer class="bg-gray-800 text-gray-300 py-16 px-4">
            <div class="container mx-auto grid grid-cols-2 md:grid-cols-4 gap-8">
                <div>
                    <h4 class="font-bold text-lg text-white mb-4 logo">Keralaweds</h4>
                    <p>Your complete wedding directory for all of Kerala. Find vendors, read reviews, and plan your perfect Mallu wedding.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg text-white mb-4">Top Services</h4>
                    <ul>
                        <li class="mb-2"><a href="#seo-content-venues" class="hover:text-white">Venues & Auditoriums</a></li>
                        <li class="mb-2"><a href="#seo-content-photography" class="hover:text-white">Wedding Photography</a></li>
                        <li class="mb-2"><a href="#seo-content-catering" class="hover:text-white">Catering Services</a></li>
                        <li class="mb-2"><a href="#about" class="hover:text-white">Event Management</a></li>
                        <li class="mb-2"><a href="#about" class="hover:text-white">Wedding Buses</a></li>
                        <li class="mb-2"><a href="#about" class="hover:text-white">Bridal Makeup</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg text-white mb-4">Locations</h4>
                    <ul>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Kochi (Ernakulam)</a></li>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Trivandrum</a></li>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Kozhikode</a></li>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Thrissur</a></li>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Kottayam</a></li>
                        <li class="mb-2"><a href="#vendors" class="hover:text-white">Alappuzha</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg text-white mb-4">Quick Links</h4>
                    <ul>
                        <li class="mb-2"><a href="#" class="hover:text-white">About Us</a></li>
                        <li class="mb-2"><a href="#about" class="hover:text-white">List Your Service</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Contact</a></li>
                        <li class="mb-2"><a href="#" class="hover:text-white">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="container mx-auto text-center mt-12 border-t border-gray-700 pt-8">
                <p>&copy; 2025 Keralaweds. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <div id="profile-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4 opacity-0">
        <div id="profile-modal-content" class="bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto transform scale-95">
            <!-- Profile content will be injected by JS -->
        </div>
    </div>


    <script type="module">
        // --- Firebase Configuration ---
        const effectiveFirebaseConfig = typeof __firebase_config !== 'undefined'
            ? JSON.parse(__firebase_config)
            : {
                apiKey: "AIzaSyCLQB61cOwD5eZq1zEc74e-dbyyiWhXqJY",
                authDomain: "unlock-db669.firebaseapp.com",
                databaseURL: "https://unlock-db669.firebaseio.com",
                projectId: "unlock-db669",
                storageBucket: "unlock-db669.appspot.com",
                messagingSenderId: "709297003962",
                appId: "1:709297003962:web:d072044572c56e4c509183",
                measurementId: "G-4T0GSQ0EGB"
              };

        // --- Firebase Imports ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

        // --- Firebase Initialization ---
        const app = initializeApp(effectiveFirebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        
        // --- DOM Elements ---
        const vendorList = document.getElementById('vendor-list');
        const addVendorForm = document.getElementById('add-vendor-form');
        const formMessage = document.getElementById('form-message');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const searchInput = document.getElementById('searchInput');
        const districtFilter = document.getElementById('districtFilter');
        const districtFormSelect = document.getElementById('district');
        const searchBtn = document.getElementById('searchBtn');
        const noVendorsDiv = document.getElementById('no-vendors');
        const header = document.getElementById('header');
        const submitBtn = document.getElementById('submitBtn');
        const submitBtnText = document.getElementById('submitBtnText');
        const submitSpinner = document.getElementById('submitSpinner');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const profileModal = document.getElementById('profile-modal');
        const profileModalContent = document.getElementById('profile-modal-content');
        
        let allVendors = []; // Cache for all vendors
        let activeCategory = 'Venues'; // Default active category

        const keralaDistricts = [
            "Thiruvananthapuram", "Kollam", "Pathanamthitta", "Alappuzha", 
            "Kottayam", "Idukki", "Ernakulam", "Thrissur", "Palakkad", 
            "Malappuram", "Kozhikode", "Wayanad", "Kannur", "Kasaragod"
        ];

        function populateDistrictDropdowns() {
            // For filter
            districtFilter.innerHTML = `<option value="">All Districts</option>`;
            keralaDistricts.forEach(district => {
                districtFilter.innerHTML += `<option value="${district}">${district}</option>`;
            });

            // For form
            districtFormSelect.innerHTML = `<option value="" disabled selected>Select a District</option>`;
             keralaDistricts.forEach(district => {
                 districtFormSelect.innerHTML += `<option value="${district}">${district}</option>`;
             });
        }
        
        // --- UI/UX Enhancements ---
        window.addEventListener('scroll', () => {
            if (window.scrollY > 10) {
                header.classList.add('shadow-md');
            } else {
                header.classList.remove('shadow-md');
            }
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('-translate-y-full');
            if (mobileMenu.classList.contains('-translate-y-full')) {
                mobileMenuButton.innerHTML = `<svg class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>`;
            } else {
                mobileMenuButton.innerHTML = `<svg class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>`;
            }
        });
        
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('-translate-y-full');
                mobileMenuButton.innerHTML = `<svg class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>`;
            });
        });


        // --- Authentication & Initial Data Load ---
        onAuthStateChanged(auth, (user) => {
            if (user) {
                listenForAllVendors();
            } else {
                 signInAnonymously(auth).catch((error) => console.error("Anonymous sign-in failed:", error));
            }
        });

        function renderSkeletons() {
            vendorList.innerHTML = '';
            for (let i = 0; i < 3; i++) {
                vendorList.innerHTML += `
                    <div class="skeleton-card">
                        <div class="w-full h-56 bg-gray-300"></div>
                        <div class="p-6"><div class="h-6 w-3/4 bg-gray-300 rounded"></div><div class="mt-2 h-4 w-1/2 bg-gray-300 rounded"></div><div class="mt-4 h-5 w-1/3 bg-gray-300 rounded"></div><div class="mt-6 w-full h-10 bg-gray-300 rounded-lg"></div></div>
                    </div>`;
            }
        }
        
        function renderFilteredVendors() {
            const selectedDistrict = districtFilter.value;
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            let filteredVendors = allVendors.filter(v => v.category === activeCategory);
            if (selectedDistrict) filteredVendors = filteredVendors.filter(v => v.district === selectedDistrict);
            if (searchTerm) filteredVendors = filteredVendors.filter(v => v.name.toLowerCase().includes(searchTerm));

            vendorList.innerHTML = '';
            noVendorsDiv.classList.toggle('hidden', filteredVendors.length > 0);

            filteredVendors.forEach((vendor, index) => {
                const vendorCard = document.createElement('div');
                vendorCard.className = 'bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 fade-in';
                vendorCard.style.animationDelay = `${index * 100}ms`;
                // SEO: Added alt text to image
                vendorCard.innerHTML = `
                    <img src="${vendor.imageUrl || 'https://placehold.co/600x400/FFF7F5/D96B69?text=Image'}" alt="Image for ${vendor.name} - ${vendor.category} in ${vendor.district}" class="w-full h-56 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/FFF7F5/D96B69?text=Image+Not+Found';">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800">${vendor.name}</h3>
                        <p class="text-gray-600 mt-1"><i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>${vendor.location}, ${vendor.district}</p>
                        <p class="text-gray-800 font-semibold mt-4">Starting from ₹${parseInt(vendor.startingPrice).toLocaleString('en-IN')}</p>
                        <button data-id="${vendor.id}" class="view-profile-btn mt-6 w-full bg-white text-red-400 border border-red-400 font-semibold py-2 px-4 rounded-lg hover:bg-red-400 hover:text-white transition duration-300">View Profile</button>
                    </div>`;
                vendorList.appendChild(vendorCard);
            });
        }

        function listenForAllVendors() {
            if (!auth.currentUser) return;
            renderSkeletons();
            const vendorsCollectionRef = collection(db, 'vendors');
            onSnapshot(vendorsCollectionRef, (snapshot) => {
                allVendors = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderFilteredVendors();
            }, (error) => {
                console.error("Error getting real-time vendors: ", error);
                vendorList.innerHTML = `<p class="col-span-full text-center text-red-500">Error loading vendors.</p>`;
            });
        }
        
        async function handleAddVendor(e) {
            e.preventDefault();
            submitBtn.disabled = true;
            submitSpinner.classList.remove('hidden');
            submitBtnText.textContent = 'Submitting...';

            const formData = new FormData(addVendorForm);
            const galleryImagesRaw = formData.get('galleryImages').trim();
            const vendorData = {
                name: formData.get('vendorName'),
                category: formData.get('category'),
                district: formData.get('district'),
                location: formData.get('location'),
                startingPrice: formData.get('startingPrice'),
                contactNumber: formData.get('contactNumber'), // Save contact number
                imageUrl: formData.get('imageUrl'),
                description: formData.get('description'),
                galleryImages: galleryImagesRaw ? galleryImagesRaw.split(',').map(url => url.trim()) : [],
            };

            try {
                await addDoc(collection(db, 'vendors'), vendorData);
                formMessage.textContent = 'Vendor added successfully!';
                formMessage.className = 'text-green-500 text-center';
                addVendorForm.reset();
                populateDistrictDropdowns();
            } catch (error) {
                console.error("Error adding document: ", error);
                formMessage.textContent = 'Error adding vendor. Please try again.';
                formMessage.className = 'text-red-500 text-center';
            } finally {
                 setTimeout(() => formMessage.textContent = '', 3000);
                 submitBtn.disabled = false;
                 submitSpinner.classList.add('hidden');
                 submitBtnText.textContent = 'Add Vendor';
            }
        }

        function showProfile(vendorId) {
            const vendor = allVendors.find(v => v.id === vendorId);
            if (!vendor) return;

            const images = vendor.galleryImages && vendor.galleryImages.length > 0 ? vendor.galleryImages : [vendor.imageUrl];
            profileModalContent.innerHTML = `
                <div class="p-4 sm:p-8">
                    <div class="flex justify-between items-start">
                        <!-- SEO: H2 for modal content -->
                        <h2 class="text-2xl sm:text-3xl font-bold text-gray-800">${vendor.name}</h2>
                        <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
                    </div>
                    <p class="text-gray-600 mt-1"><i class="fas fa-map-marker-alt text-gray-400 mr-2"></i>${vendor.location}, ${vendor.district}</p>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-6">
                        <div class="lg:col-span-2">
                            <img id="main-gallery-image" src="${images[0]}" alt="Main profile image for ${vendor.name}" class="w-full h-64 sm:h-96 object-cover rounded-lg shadow-md mb-4" onerror="this.onerror=null;this.src='https://placehold.co/600x400/FFF7F5/D96B69?text=Image+Not+Found';">
                            <div id="thumbnail-container" class="grid grid-cols-4 sm:grid-cols-5 gap-2">
                                ${images.map((img, index) => `<img src="${img}" alt="Gallery thumbnail ${index + 1} for ${vendor.name}" class="thumbnail-img h-16 sm:h-20 w-full object-cover rounded-md cursor-pointer border-2 border-transparent hover:border-red-400" onerror="this.onerror=null;this.src='https://placehold.co/100x100/FFF7F5/D96B69?text=X';">`).join('')}
                            </div>
                        </div>
                        <div class="lg:col-span-1">
                            <h3 class="text-xl font-semibold text-gray-800">About this Vendor</h3>
                            <p class="text-gray-600 mt-2 text-justify">${vendor.description || 'No description provided.'}</p>
                            <div class="mt-6 bg-red-50 p-4 rounded-lg">
                                <p class="text-gray-700">Starting from</p>
                                <p class="text-2xl font-bold text-red-500">₹${parseInt(vendor.startingPrice).toLocaleString('en-IN')}</p>
                            </div>
                            <a href="tel:${vendor.contactNumber}" class="mt-6 w-full bg-red-400 text-white font-semibold py-3 px-4 rounded-lg hover:bg-red-500 transition-all duration-300 flex items-center justify-center">
                               <i class="fas fa-phone-alt mr-2"></i>Contact Vendor
                            </a>
                        </div>
                    </div>
                </div>`;

            profileModal.classList.remove('hidden');
            setTimeout(() => {
                profileModal.classList.add('opacity-100');
                profileModalContent.classList.add('scale-100');
            }, 10);

            document.getElementById('close-modal-btn').addEventListener('click', hideProfile);
            const thumbnails = profileModalContent.querySelectorAll('.thumbnail-img');
            const mainImage = profileModalContent.querySelector('#main-gallery-image');
            thumbnails.forEach(thumb => {
                thumb.addEventListener('click', () => {
                    mainImage.src = thumb.src;
                    thumbnails.forEach(t => t.classList.remove('border-red-400'));
                    thumb.classList.add('border-red-400');
                });
            });
            if(thumbnails.length > 0) thumbnails[0].classList.add('border-red-400');
        }

        function hideProfile() {
            profileModal.classList.remove('opacity-100');
            profileModalContent.classList.remove('scale-100');
            setTimeout(() => {
                profileModal.classList.add('hidden');
                profileModalContent.innerHTML = '';
            }, 300);
        }
        
        // --- Event Listeners & Initial Calls ---
        addVendorForm.addEventListener('submit', handleAddVendor);
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                activeCategory = button.dataset.category;
                renderSkeletons();
                setTimeout(renderFilteredVendors, 200);
                categoryButtons.forEach(btn => btn.classList.remove('ring-2', 'ring-red-400', 'ring-offset-2'));
                button.classList.add('ring-2', 'ring-red-400', 'ring-offset-2');
            });
        });
        
        vendorList.addEventListener('click', (e) => e.target.closest('.view-profile-btn') && showProfile(e.target.closest('.view-profile-btn').dataset.id));
        profileModal.addEventListener('click', (e) => e.target.id === 'profile-modal' && hideProfile());
        searchBtn.addEventListener('click', renderFilteredVendors);
        searchInput.addEventListener('keyup', (e) => {
            // Optional: trigger search on Enter key
            if (e.key === 'Enter') renderFilteredVendors();
        });
        // Real-time search as user types
        searchInput.addEventListener('input', renderFilteredVendors);
        districtFilter.addEventListener('change', renderFilteredVendors);

        // Set default active category on load
        document.querySelector('.category-btn[data-category="Venues"]').classList.add('ring-2', 'ring-red-400', 'ring-offset-2');
        populateDistrictDropdowns();
    </script>
</body>
</html>
